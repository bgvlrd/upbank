{% extends "base.html" %}

{% load static %}

{% block content %}


<title>Fund Deposit</title>
<link rel="stylesheet" type="text/css" href="{% static 'css/fund-deposit-style.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

<div class="container-fluid ">
	<div class="row">
		<div class="col-md-6 center">
			<div class="frame">
				<div class="fill animate__animated animate__fadeIn">
					<h2 class="center">Over The Counter Loan Payment Form</h2>
					<br>
					<div class="form-group col-lg-16">
						<label for="loan-number" class="form-label">Loan Account Number</label>
						<select id="loan-number" class="form-control inputs date">
								<option value="" selected disabled hidden>Choose from delinquent and default loans</option>
							{% for payer in valid_otc_payer %}
								<option>{{payer.loan_account_no}}</option>
							{% endfor %}
						</select>

                        <br>
						<label for="date" class="form-label">Transaction Date</label>
						<input type="text" class="form-control inputs date" value="{{transaction_date}}" disabled>
						<br>
						<label for="amt" class="form-label">Amount Paid</label>
						<p> {{form.amount_paid}} </p>
						<span class="error d-none">
							Please enter the loan account number and amount paid.
						</span>
					</div>
					<br>
					<div class="d-flex justify-content-center">
						<button type="submit" id="fill-button" class="center button-form">Continue</button>
					</div>
				</div>
				<div class="review d-none animate__animated animate__fadeIn">
					<h2 class="center">Review Payment Details</h2>
					<br>
					<div class="container-fluid">
                        <div class="row gx-5">
							<div class="col-4">
								<h4 class="grey-font">Payment For</h4>
							</div>
							<div class="col-8">
								<h4 id="holder">UPBANK AUTO LOAN</h4>
								<h4 id="account" class="grey-font">Over The Counter</h4>
							</div>
							<hr>
						</div>
						<div class="row gx-5">
							<div class="col-4">
								<h4 class="grey-font">Loan Account</h4>
							</div>
							<div class="col-8">
								<h4 id="loan-number-review"></h4>
								<h4 id="account" class="grey-font">UPBank Account</h4>
							</div>
							<hr>
						</div>
                        <div class="row gx-5">
							<div class="col-4">
								<h4 class="grey-font">Transaction Date</h4>
							</div>
							<div class="col-8">
								<h4 id="holder">{{transaction_date}}</h4>
							</div>
							<hr>
						</div>
						<div class="row gx-5">
							<div class="col-4">
								<h4 class="grey-font">Amount</h4>
							</div>
							<div class="col-8">
								<h4 id="amt-review"></h4>
							</div>
						</div>
					</div>
					<br><br>
					<div class="d-flex justify-content-center">
						<button type="button" id="back-button" class="center back button-form">Back</button>
						&nbsp &nbsp &nbsp
						<button type="submit" id="otc-submit-final" class="center button-form">Continue</button>
					</div>

				</div>
				<div class="success-submit d-none animate__animated animate__fadeIn">
					<h2 class="center">Transaction Details</h2>
					<br>
					<div class="container-fluid">
						<div class="row gx-5">
							<div class="col-4">
								<h4 class="grey-font">Date & Time</h4>
							</div>
							<div class="col-8">
								<h4 id="date-success"></h4>
								<h4 id="time-success" class="grey-font"></h4>
							</div>
						</div>
						<hr>
						<div class="row gx-5">
							<div class="col-4">
								<h4 class="grey-font">Account Details</h4>
							</div>
							<div class="col-8">
								<h4 id="holder-success"></h4>
								<h4 id="account-type-success" class="grey-font">UPBank Account</h4>
								<h4 id="acctnumber-success" class="grey-font"></h4>
							</div>

						</div>
						<hr>
						<div class="row gx-5">
							<div class="col-4">
								<h4 class="grey-font">Amount Deposited</h4>
							</div>
							<div class="col-8">
								<h4 id="amt-success"></h4>
							</div>
						</div>
						<hr>
						<div class="row gx-5">
							<div class="col-4">
								<h4 class="grey-font">Total balance</h4>
							</div>
							<div class="col-8">
								<h4 id="balance-success"></h4>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-md-6 text-center  order-first order-md-last">
			<div class="fill animate__animated animate__fadeInDown">
				<img src="{% static 'img/contract.png' %}" class="img-fluid" id="side-image-1">
				<div class="container-fluid custom">
					<div class="position-relative m-4">
						<div class="progress" style="height: 5px;">
							<div class="progress-bar bg-success" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
						</div>

						<button type="button" class="position-absolute top-0 start-0 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2rem; height:2rem;">1</button>
						<span class="position-absolute top-100 start-0 translate-middle text-success" style="margin-top:50px;">Fill Details</span>

						<button type="button" class="position-absolute top-0 start-50 translate-middle btn btn-sm btn-secondary rounded-pill" style="width: 2rem; height:2rem;" disabled>2</button>
						<span class="position-absolute top-100 start-50 translate-middle text-muted" style="margin-top:50px;">Review</span>

						<button type="button" class="position-absolute top-0 start-100 translate-middle btn btn-sm btn-secondary rounded-pill" style="width: 2rem; height:2rem;" disabled>3</button>
						<span class="position-absolute top-100 start-100 translate-middle text-muted" style="margin-top:50px;">Success</span>

					</div>
				</div>
			</div>
			<div class="review d-none animate__animated animate__fadeInDown">
				<img src="{% static 'img/documents.png' %}" class="img-fluid">

				<div class="container-fluid custom">
					<div class="position-relative m-4">
						<div class="progress" style="height: 5px;">
							<div class="progress-bar bg-success" role="progressbar" style="width: 50%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
						</div>

						<button type="button" class="position-absolute top-0 start-0 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2rem; height:2rem;">1</button>
						<span class="position-absolute top-100 start-0 translate-middle text-success" style="margin-top:50px;">Fill Details</span>

						<button type="button" class="position-absolute top-0 start-50 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2rem; height:2rem;">2</button>
						<span class="position-absolute top-100 start-50 translate-middle text-success" style="margin-top:50px; color: green;">Review</span>

						<button type="button" class="position-absolute top-0 start-100 translate-middle btn btn-sm btn-secondary rounded-pill" style="width: 2rem; height:2rem;" disabled>3</button>
						<span class="position-absolute top-100 start-100 translate-middle text-muted" style="margin-top:50px;">Success</span>

					</div>
				</div>
			</div>

			<div class="success-submit  d-none animate__animated animate__fadeInDown">
				<img src="{% static 'img/checked.png' %}" class="img-fluid">

				<div class="container-fluid custom">
					<div class="position-relative m-4">
						<div class="progress" style="height: 5px;">
							<div class="progress-bar bg-success" role="progressbar" style="width: 100%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
						</div>

						<button type="button" class="position-absolute top-0 start-0 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2rem; height:2rem;">1</button>
						<span class="position-absolute top-100 start-0 translate-middle text-success" style="margin-top:50px;">Fill Details</span>

						<button type="button" class="position-absolute top-0 start-50 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2rem; height:2rem;">2</button>
						<span class="position-absolute top-100 start-50 translate-middle text-success" style="margin-top:50px; color: green;">Review</span>

						<button type="button" class="position-absolute top-0 start-100 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2rem; height:2rem;">3</button>
						<span class="position-absolute top-100 start-100 translate-middle text-success" style="margin-top:50px;">Success</span>

					</div>
				</div>

			</div>
			<br><br>
		</div>

	</div>
</div>
</div>
<script>
	var date = "{{transaction_date}}";
	var account_number = "{{bank_account.account_number_derived}}";
	var payment_url = "{% url 'add_otc_payment' %}";
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="/static/js/fund_deposit.js"></script>

{% endblock %}